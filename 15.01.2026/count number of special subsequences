class Solution {
    public int countSpecialSubsequences(int[] nums) {
        int zero = 0, one = 0, two = 0;
        int mod = (int)1e9+7;

        for(int i = 0;i<nums.length;i++){
            if(nums[i] == 0){
                zero = ((2*zero)%mod)+1;
            }else if(nums[i] == 1){
                one = (((2*one)%mod)+zero)%mod;
            }else{
                two = (((2*two)%mod)+one)%mod;
            }
        }

        return (int)(two%mod);
    }
}
